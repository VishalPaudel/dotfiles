# essentials
su - --command="adduser vishal sudo"
# requires a logout/login
# exit
su - --command="apt install curl wget git sudo vim build-essential cmake"
su - --command="apt install sway swaylock i3status"
sudo apt install grimshot
sudo apt install pipewire pactl
sudo apt install wireplumber pipewire-media-session-


# install firefox
sudo install -d -m 0755 /etc/apt/keyrings
wget -q https://packages.mozilla.org/apt/repo-signing-key.gpg -O- | sudo tee /etc/apt/keyrings/packages.mozilla.org.asc > /dev/null
# skipped fingerprint verfication
echo "deb [signed-by=/etc/apt/keyrings/packages.mozilla.org.asc] https://packages.mozilla.org/apt mozilla main" | sudo tee -a /etc/apt/sources.list.d/mozilla.list > /dev/null
# skipped adding priority to mozilla packages
sudo apt-get update && sudo apt-get install firefox

# install language toolchains
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh

# install dotfiles
sudo apt install stow
mkdir -p /home/vishal/repos/var/
cd /home/vishal/repos/var/
git clone https://github.com/vishalpaudel/dotfiles.git
cd dotfiles
stow .
cd /home/vishal
# exit

# install fish
sudo apt install fish
echo $(which bin)
sudo vi /etc/shells

# install homebrew
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

# install tools
sudo apt install cmake pkg-config libfreetype6-dev libfontconfig1-dev libxcb-xfixes0-dev libxkbcommon-dev python3
/home/vishal/.cargo/bin/cargo install alacritty
/home/vishal/.cargo/bin/cargo install zellij

/home/linuxbrew/.linuxbrew/bin/brew install fzf
/home/linuxbrew/.linuxbrew/bin/brew install helix
/home/linuxbrew/.linuxbrew/bin/brew install trash-cli

# wayland-dmenu
mkdir -p /home/vishal/repos/tools
cd /home/vishal/repos/tools/
git clone https://codeberg.org/adnano/wmenu.git
cd wmenu
sudo apt install libcairo2-dev libpango1.0-dev libwayland-dev scdoc wayland-protocol # libxkbcommon-dev
sudo apt install meson ninja-build
meson build
ninja -C build
sudo ninja -C build install 
cd /home/vishal

# install fonts
sudo apt install jq
mkdir /home/vishal/.fonts
cd /home/vishal/.fonts
curl -s 'https://api.github.com/repos/be5invis/Iosevka/releases/latest' | jq -r ".assets[] | .browser_download_url" | grep PkgTTC-Iosevka- | xargs -n 1 curl -L -O --fail --silent --show-error
unzip *Iosevka*.zip
sudo fc-cache
